# CashInCashOut

En avancerad Android budget-app skapad med Kotlin och Material Design 3, med fokus p√• produkthantering, prisj√§mf√∂relse, inkomst- och utgiftshantering.

## Funktioner

Appen har en bottom navigation bar med fyra huvudsektioner:

### üìä √ñversikt
- Visar total balans, m√•natliga inkomster och utgifter
- **L√•n√∂versikt** - separata kort f√∂r l√•nade och utl√•nade belopp
- Snabb√•tg√§rder f√∂r att l√§gga till inkomster, utgifter och l√•n
- **Floating Action Button** f√∂r att l√§gga till produkter
- **"Visa alla produkter"** knapp f√∂r att komma √•t produktlistan
- **"Hantera butiker"** knapp f√∂r butikshantering
- **Anpassningsbar** - visa/d√∂lj sektioner via EditHomeActivity
- Elegant dashboard med cards

### üí∏ Transaktioner
- **Komplett transaktionshantering** f√∂r b√•de inkomster och utgifter
- **Unified view** - se alla transaktioner p√• ett st√§lle med filtrering
- **L√§gg till utgifter** med titel, belopp, kategori, butik och betalmetod
- **L√§gg till inkomster** med titel, belopp, kategori, datum och beskrivning
- **Utgiftskategorier** - Mat, Transport, Hygien, N√∂je, R√§kningar, Kl√§der, H√§lsa, Boende, √ñvrigt
- **Inkomstkategorier** - L√∂n, Freelance, Investeringar, Bidrag, √ñvrigt
- **Butiksregistrering** - sp√•ra var utgiften gjordes
- **Betalmetoder** - Kort, Kontant, Swish, Faktura
- **√Öterkommande transaktioner** - m√•nadsvis, veckovis, √•rligen
- **Filtrering** - visa alla, endast inkomster eller endast utgifter
- **Summering** - totala inkomster och utgifter visas √∂verst
- **Floating Action Button** f√∂r att l√§gga till nya transaktioner

### üí≥ L√•n
- **Komplett l√•nhanteringssystem** med alla funktioner implementerade
- **L√§gg till l√•n** - b√•de l√•nade och utl√•nade pengar
- **L√•ntyper** - "L√•nat fr√•n n√•gon" (skulder) och "L√•nat ut till n√•gon" (fordringar)
- **L√•ndetaljer** - titel, belopp, person, r√§nta, f√∂rfallodatum, beskrivning
- **√Öterbetalningshantering** - markera l√•n som √•terbetalda eller √•ngra √•terbetalning
- **Filtrering** - visa alla, l√•nade, utl√•nade, aktiva eller √•terbetalda l√•n
- **√ñversiktsintegration** - separata kort f√∂r l√•nade och utl√•nade belopp
- **Redigering och borttagning** - fullst√§ndig CRUD-funktionalitet
- **FAB-meny** f√∂r snabb √•tkomst till l√•ntill√§ggning

### üìã Budget
- Sektion f√∂r budgetplanering  
- Plats f√∂r framtida funktioner som budgetkategorier och gr√§nser

### ‚öôÔ∏è Mer
- **Kategorihantering** - avancerat system f√∂r att hantera inkomst- och utgiftskategorier
- **Smarta rekommendationer** - AI-driven prisanalys och besparingstips
- **Ink√∂pslistor** - skapa och hantera ink√∂pslistor med prishistorik
- **Prishistorik** - sp√•ra prisutveckling √∂ver tid med grafer
- **Kvittohantering** - scanna och registrera kvitton med butiksinformation
- App-inst√§llningar och konfiguration
- Information om appen

## üõí Produkthantering

### L√§gg till produkter
- **Produktnamn** (obligatoriskt f√§lt)
- **Butik** - V√§lj fr√•n f√∂rdefinierade butiker (ICA, Coop, Hemk√∂p, Willys, Lidl)
- **Pris** per butik (obligatoriskt f√§lt)
- **Varunamn** - t.ex. "Coca-Cola"
- **M√§ngd och enhet** - t.ex. "330" + "ml" f√∂r "330ml"
- **Enhet dropdown** - st, g, kg, cl, ml, l, mb, gb
- **Kategori** (11 f√∂rdefinierade kategorier)
- **Panthantering** - aktivera/inaktivera pant med pantbelopp
- **Kampanjpris** - t.ex. "2 f√∂r 25 kr" per butik
- **Streckkod** - manuell input eller genom kamerascanning
- **Beskrivning** f√∂r extra information

### Produktlista och prisj√§mf√∂relse
- **Produktlista** med alla registrerade produkter
- **Prisintervall** - visar l√§gsta till h√∂gsta pris
- **Antal butiker** - visar i hur m√•nga butiker produkten finns
- **Prisdetaljer** - klicka p√• "Visa priser" f√∂r att se alla priser
- **Redigera produkter** - uppdatera produktinformation
- **Ta bort produkter** - ta bort produkter fr√•n databasen

### Prishantering per butik
- **L√§gg till priser** - samma produkt kan ha olika priser i olika butiker
- **Redigera priser** - uppdatera priser f√∂r specifika butiker
- **Ta bort priser** - ta bort priser fr√•n specifika butiker
- **Kampanjpriser** - hantera kampanjpriser per butik
- **Senast sett** - sp√•ra n√§r priset senast observerades
- **Prishistorik** - automatisk lagring av alla pris√§ndringar √∂ver tid

### Streckkodscanning
- **Kamerabaserad scanning** med ML Kit
- **Automatisk produktidentifiering** baserat p√• streckkod
- **F√∂rifyllt formul√§r** om produkten redan finns i databasen
- **Fallback till manuell input** om scanning inte fungerar

## ü§ñ Smarta rekommendationer

### Prisanalys och besparingstips
- **Intelligent prisanalys** - avancerade algoritmer analyserar prishistorik
- **Flera rekommendationstyper** - B√§sta pris, prisfall, bra deals, undvik h√∂ga priser
- **Konfidenspo√§ng** - bed√∂mer tillf√∂rlitlighet baserat p√• datam√§ngd och aktualitet
- **Ink√∂pslisteoptimeringar** - f√•r personliga tips f√∂r att spara pengar

## üèóÔ∏è Teknisk arkitektur

### Systemdesign
Appen anv√§nder en **lagerad arkitektur** med tydlig separation av ansvar:

1. **Presentationslager** - Activities, Fragments, Adapters
2. **Aff√§rslogiklager** - Services, Repositories, ViewModels  
3. **Datalager** - Database entities, DAOs, Room database

### K√§rnkomponenter

#### Activities (`com/example/budgetapp/`)
| Aktivitet | Syfte | Nyckelfunktioner |
|-----------|-------|------------------|
| `MainActivity.kt` | Huvudnavigering | Bottom navigation, fragmenthantering, tema/notifikationsinst√§llningar |
| `AddExpenseActivity.kt` | Utgiftsskapande | Kategorival, butiksl√§nkning, betalmetoder |
| `AddIncomeActivity.kt` | Inkomstsp√•rning | Inkomstkategorier, √•terkommande inkomstst√∂d |
| `AddLoanActivity.kt` | L√•nhantering | L√•nade/utl√•nade pengar med r√§ntor |
| `ProductListActivity.kt` | Produktkatalog | Produkthantering med prishistorik |
| `SmartRecommendationsActivity.kt` | AI-drivna insikter | Prisanalys och sparrekommendationer |

#### Fragmentstruktur (`fragments/`)
- **OverviewFragment** - Dashboard med balans, snabb√•tg√§rder, l√•n√∂versikt
- **TransactionsFragment** - Enhetlig transaktionsvy med filtrering
- **LoansFragment** - Komplett l√•nhanteringssystem
- **BudgetFragment** - Budgetplanering och sp√•rning
- **MoreFragment** - Inst√§llningar och ytterligare funktioner

#### Databasarkitektur (`database/`)
**Room Database Version 16** med 17 entiteter:

**K√§rnfinansiella entiteter:**
- `Expense` - Utgiftssp√•rning med kategorier, butiker, betalmetoder
- `Income` - Inkomsthantering med √•terkommande st√∂d
- `Loan` - L√•nsp√•rning (l√•nat/utl√•nat) med r√§nteber√§kningar
- `Budget` - Budgetplanering och gr√§nser

**Produkthantering:**
- `Product` - Produktkatalog med streckkodsst√∂d
- `ProductCategory` - Produktkategoriseringssystem
- `ProductStore` - Prissp√•rning per butik
- `PriceHistory` - Historiska prisdata f√∂r rekommendationer

**Avancerade funktioner:**
- `Receipt` + `ReceiptItem` - Kvittohanteringssystem
- `ShoppingList` + `ShoppingListItem` - Ink√∂pslisteoptimering
- `TransactionNotification` - Smart notifikationssystem

#### Services & Bakgrundsbearbetning (`services/`)
- **SmartRecommendationService** - AI-driven prisanalys
- **BudgetNotificationService** - Automatiserade budgetvarningar
- **BudgetRolloverWorker** - M√•natlig budgetbearbetning
- **ShoppingListOptimizer** - Butiksbaserad ink√∂psoptimering

#### Repository Pattern (`repository/`)
Rent data√•tkomstlager med repositories f√∂r:
- Budgethantering
- Kategorihantering
- Ink√∂pslisteoperationer
- Butikshantering

### Tekniska h√∂jdpunkter
1. **Material Design 3** - Modernt UI med temast√∂d
2. **Room Database** - Robust lokal lagring med migreringar
3. **Kotlin Coroutines** - Asynkrona operationer
4. **ViewBinding** - Typs√§kra vyreferenser
5. **WorkManager** - Bakgrundsuppgiftsbearbetning
6. **Streckkodscanning** - Produktidentifiering med ML Kit
7. **Notifikationssystem** - Smarta budgetvarningar
- **Smarta f√∂rslag** - notifieringar om prisfall och besparingsm√∂jligheter
- **Butiksrekommendationer** - hitta de mest kostnadseffektiva butikerna
- **Potentiella besparingar** - ber√§knar hur mycket du kan spara

### Funktioner
- **Prishistorikanalys** - 30 dagars trendanalys f√∂r exakt prisf√∂ruts√§gelse
- **Butiksj√§mf√∂relser** - j√§mf√∂r priser mellan butiker f√∂r samma produkt
- **Prisvarningar** - f√• meddelanden n√§r priser sjunker √∂ver 10%
- **S√§songsanalys** - uppt√§ck s√§songsvariation i priser
- **Individuella rekommendationer** - anpassade tips baserat p√• dina ink√∂psvanor

## üìã Ink√∂pslistor

### Listhantering
- **Skapa ink√∂pslistor** - organisera dina ink√∂p med anpassningsbara listor
- **Produkts√∂kning** - l√§gg till produkter fr√•n din befintliga produktdatabas
- **M√§ngdhantering** - ange kvantitet och enheter f√∂r varje vara
- **Prisuppskattningar** - automatiska prisf√∂rslag baserat p√• historik
- **Listdelning** - dela listor med familjemedlemmar
- **Kategoriindelning** - sortera produkter efter kategori

### Smart integration
- **Prisrekommendationer** - f√• f√∂rslag p√• b√§sta butiker f√∂r din lista
- **Besparingsber√§kning** - se potentiella besparingar f√∂re handlandet
- **Rutt-optimering** - f√∂rslag p√• mest effektiv ink√∂psrutt
- **Kampanjintegration** - automatisk uppdatering n√§r kampanjer uppt√§cks

## üìä Prishistorik och analytics

### Prishistorik
- **Automatisk sp√•rning** - alla pris√§ndringar lagras automatiskt
- **Grafisk presentation** - interaktiva charts med MPAndroidChart
- **Trendanalys** - uppt√§ck prism√∂nster och s√§songsvariation
- **Historisk j√§mf√∂relse** - j√§mf√∂r nuvarande priser med historiska data
- **Exportfunktioner** - exportera prisdata f√∂r vidare analys

### üè∑Ô∏è Kategorihantering

### Avancerat kategorisystem
- **Visuell kategorihantering** - f√§rgade ikoner och intuitivt gr√§nssnitt
- **Inkomst- och utgiftskategorier** - separata kategorier f√∂r olika transaktionstyper
- **Anpassningsbara ikoner** - √∂ver 28 ikoner att v√§lja mellan (mat, transport, l√∂ner, etc.)
- **F√§rgkodning** - 20 vibrant f√§rger f√∂r enkel identifiering
- **Tobak- och dryckeskategorier** - specialikoner f√∂r specifika utgiftstyper
- **S√∂kfunktionalitet** - hitta kategorier snabbt med s√∂kfunktion
- **L√§gg till/redigera/ta bort** - fullst√§ndig CRUD-funktionalitet
- **Transaktionsr√§kning** - sp√•ra hur m√•nga transaktioner per kategori
- **Subkategorier** - st√∂d f√∂r hierarkiska kategorier (planerad funktion)

### Ikoner som inkluderas
- **Utgiftskategorier**: Mat, transport, shopping, underh√•llning, r√§kningar, hem, h√§lsa, teknik, sport, bil, bensin, kl√§der, utbildning, kaffe, presenter, husdjur, resor, sk√∂nhet, apotek, butik, tobak, drycker
- **Inkomstkategorier**: L√∂n, bonus, frilans, investeringar, f√∂rs√§ljning, kalendrar, pengar

### üßæ Kvittohantering

### Kvittoscanning
- **Digital kvittolagring** - lagra och organisera kvitton digitalt
- **Butiksinformation** - automatisk koppling till butiksdatabas
- **Produktmatchning** - koppla kvittoink√∂p till befintliga produkter
- **Utgiftsregistrering** - automatisk registrering av utgifter fr√•n kvitton
- **OCR-integration** - textigenk√§nning f√∂r automatisk dataextraktion

### üè™ Butikshantering
- **Komplett butikshantering** med CRUD-operationer
- **L√§gg till butiker** med namn, adress, stad och kedja
- **Redigera butiker** - uppdatera information
- **Ta bort butiker** - med bekr√§ftelse  
- **Butikslista** med s√∂kfunktionalitet
- **Kedjehantering** - ICA, Coop, Hemk√∂p, Willys, Lidl
- **Ljust tema** f√∂r b√§ttre l√§sbarhet

### Databas
- **Room database** f√∂r lokal lagring
- **Kategorisystem** med f√§rgkodning
- **Butikssystem** med kedjehantering  
- **Inkomstsystem** med kategori- och √•terkommandest√∂d
- **Utgiftssystem** med kategori-, butiks- och betalmetodsst√∂d
- **L√•nsystem** med l√•ntyper, r√§nta, f√∂rfallodatum och √•terbetalningshantering
- **Prishistoriksystem** - automatisk sp√•rning av alla pris√§ndringar
- **Ink√∂pslistesystem** - komplett listhantering med kvantiteter
- **Kvittosystem** - digital lagring med butikskoppling
- **Rekommendationssystem** - AI-driven prisanalys
- **Relationshantering** mellan produkter, butiker och kategorier
- **S√∂kfunktioner** baserat p√• namn och varum√§rke
- **Databasmigration** fr√•n version 2 till 11+

## Teknisk specifikation

- **Spr√•k**: Kotlin
- **UI Framework**: Material Design 3
- **Navigation**: Bottom Navigation Bar med fragments
- **MinSDK**: 24 (Android 7.0)
- **TargetSDK**: 34
- **Architecture**: Fragment-based navigation med MVVM-pattern
- **Databas**: Room (SQLite) version 11+
- **Kamera**: CameraX med ML Kit f√∂r streckkodscanning
- **Charts**: MPAndroidChart f√∂r prishistorikgrafer  
- **AI-analys**: Anpassad smart rekommendationsalgoritm

## Byggd struktur

```
app/
‚îú‚îÄ‚îÄ src/main/
‚îÇ   ‚îú‚îÄ‚îÄ java/com/example/budgetapp/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddProductActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductListActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EditProductActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductPriceManagerActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BarcodeScannerActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddIncomeActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddExpenseActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddLoanActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryManagerActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddEditCategoryActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EditHomeActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StoreManagerActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SmartRecommendationsActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ShoppingListActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ShoppingListDetailActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PriceHistoryActivity.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductAdapter.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoanAdapter.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionAdapter.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductWithPricesAdapter.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductPriceAdapter.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ adapters/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryManagerAdapter.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryIconAdapter.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ColorPickerAdapter.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SmartSuggestionAdapter.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RecommendationAdapter.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ShoppingListAdapter.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ShoppingListItemAdapter.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fragments/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OverviewFragment.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionsFragment.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoansFragment.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BudgetFragment.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MoreFragment.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsFragment.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SmartRecommendationService.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BudgetRepository.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ShoppingListRepository.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ viewmodels/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryViewModel.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ShoppingListViewModel.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ShoppingListViewModelFactory.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CategoryConstants.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductWithPrices.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PriceRecommendation.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BackupData.kt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BudgetDatabase.kt
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ entities/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Product.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Category.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Store.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ProductStore.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Income.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Expense.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Loan.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ PriceHistory.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ShoppingList.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ShoppingListItem.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Receipt.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ReceiptItem.kt
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Budget.kt
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ dao/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ProductDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ CategoryDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ StoreDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ProductStoreDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ IncomeDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ExpenseDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ LoanDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ PriceHistoryDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ShoppingListDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ShoppingListItemDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ReceiptDao.kt
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ReceiptItemDao.kt
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ BudgetDao.kt
‚îÇ   ‚îî‚îÄ‚îÄ res/
‚îÇ       ‚îú‚îÄ‚îÄ layout/          # Layout-filer f√∂r UI
‚îÇ       ‚îú‚îÄ‚îÄ drawable/        # Ikoner f√∂r navigation
‚îÇ       ‚îú‚îÄ‚îÄ values/          # Colors, strings, themes
‚îÇ       ‚îî‚îÄ‚îÄ menu/            # Bottom navigation menu
```

## Databas schema

### Product Table
- **id**: Primary key
- **name**: Produktnamn
- **categoryId**: Foreign key till Category
- **hasDeposit**: Boolean f√∂r pant
- **depositAmount**: Pantbelopp
- **barcode**: Streckkod
- **productName**: Varum√§rke/varunamn
- **description**: Beskrivning
- **amount**: M√§ngd (numerisk)
- **unit**: Enhet (st, g, kg, cl, ml, l, mb, gb)
- **createdAt/updatedAt**: Tidsst√§mplar

### Store Table
- **id**: Primary key
- **name**: Butiksnamn
- **address**: Adress (valfritt)
- **city**: Stad (valfritt)
- **chain**: Kedja (ICA, Coop, etc.)
- **createdAt/updatedAt**: Tidsst√§mplar

### ProductStore Table
- **id**: Primary key
- **productId**: Foreign key till Product
- **storeId**: Foreign key till Store
- **price**: Pris i butiken
- **hasCampaignPrice**: Boolean f√∂r kampanjpris
- **campaignQuantity**: Antal f√∂r kampanj
- **campaignPrice**: Kampanjpris
- **lastSeen**: N√§r priset senast observerades
- **createdAt/updatedAt**: Tidsst√§mplar

### Category Table
- **id**: Primary key
- **name**: Kategorinamn
- **color**: F√§rgkod (hex-format)
- **iconResName**: Ikonresursnamn (t.ex. "ic_dining")
- **type**: Kategoritype (EXPENSE/INCOME enum)
- **parentCategoryId**: Foreign key f√∂r subkategorier (valfri)
- **isSubcategory**: Boolean f√∂r subkategori-status
- **associatedKeywords**: S√∂kord f√∂r automatisk kategorisering
- **transactionCount**: Antal transaktioner i kategorin
- **isActive**: Boolean f√∂r aktiv status
- **sortOrder**: Sorteringsordning
- **createdAt/updatedAt**: Tidsst√§mplar

### Income Table
- **id**: Primary key
- **title**: Inkomstitel
- **amount**: Belopp
- **description**: Beskrivning (valfri)
- **category**: Kategori (L√∂n, Freelance, Investeringar, Bidrag, √ñvrigt)
- **date**: Datum f√∂r inkomst
- **isRecurring**: Boolean f√∂r √•terkommande
- **recurringType**: √Öterkommande typ (MONTHLY, WEEKLY, YEARLY)
- **createdAt/updatedAt**: Tidsst√§mplar

### Expense Table
- **id**: Primary key
- **title**: Utgiftitel
- **amount**: Belopp
- **description**: Beskrivning (valfri)
- **category**: Kategori (Mat, Transport, Hygien, N√∂je, R√§kningar, Kl√§der, H√§lsa, Boende, √ñvrigt)
- **store**: Butik/Plats d√§r utgiften gjordes (valfri)
- **date**: Datum f√∂r utgift
- **isRecurring**: Boolean f√∂r √•terkommande
- **recurringType**: √Öterkommande typ (MONTHLY, WEEKLY, YEARLY)
- **paymentMethod**: Betalmetod (Kort, Kontant, Swish, Faktura)
- **createdAt/updatedAt**: Tidsst√§mplar

### Loan Table
- **id**: Primary key
- **title**: L√•ntitel
- **amount**: L√•nebelopp
- **description**: Beskrivning (valfri)
- **personName**: Person som l√•nat till/fr√•n
- **type**: L√•ntyp (BORROWED f√∂r skuld, LENT f√∂r fordran)
- **interestRate**: R√§nta i procent (valfri)
- **dueDate**: F√∂rfallodatum (valfri)
- **isPaidBack**: Boolean f√∂r √•terbetald status
- **paidBackDate**: Datum f√∂r √•terbetalning (valfri)
- **paidBackAmount**: √Öterbetalt belopp
- **createdAt/updatedAt**: Tidsst√§mplar

### PriceHistory Table
- **id**: Primary key
- **productId**: Foreign key till Product
- **storeId**: Foreign key till Store
- **price**: Registrerat pris
- **recordedAt**: Tidsst√§mpel f√∂r prisregistrering
- **createdAt**: Skapad-tidsst√§mpel

### ShoppingList Table
- **id**: Primary key
- **name**: Listnamn
- **description**: Beskrivning (valfri)
- **isCompleted**: Boolean f√∂r slutf√∂rd status
- **totalEstimatedCost**: Uppskattad total kostnad
- **totalActualCost**: Faktisk total kostnad
- **completedAt**: Slutf√∂rt datum (valfri)
- **createdAt/updatedAt**: Tidsst√§mplar

### ShoppingListItem Table
- **id**: Primary key  
- **shoppingListId**: Foreign key till ShoppingList
- **productId**: Foreign key till Product (valfri)
- **customItemName**: Anpassat produktnamn (valfri)
- **quantity**: Kvantitet
- **unit**: Enhet (st, kg, l, etc.)
- **estimatedPrice**: Uppskattat pris
- **actualPrice**: Faktiskt pris (valfri)
- **notes**: Anteckningar (valfri)
- **isCompleted**: Boolean f√∂r slutf√∂rd status
- **priority**: Prioritetsniv√• (-1=l√•g, 0=normal, 1=h√∂g)
- **createdAt/updatedAt**: Tidsst√§mplar
- **completedAt**: Slutf√∂rt datum (valfri)

### Receipt Table
- **id**: Primary key
- **storeId**: Foreign key till Store
- **totalAmount**: Total belopp
- **receiptDate**: Kvittodatum  
- **receiptNumber**: Kvittonummer (valfri)
- **paymentMethod**: Betalmetod
- **notes**: Anteckningar (valfri)
- **createdAt/updatedAt**: Tidsst√§mplar

### ReceiptItem Table  
- **id**: Primary key
- **receiptId**: Foreign key till Receipt
- **productId**: Foreign key till Product (valfri)
- **itemName**: Produktnamn
- **quantity**: Kvantitet
- **unitPrice**: Enhetspris
- **totalPrice**: Totalpris
- **category**: Produktkategori (valfri)
- **createdAt**: Skapad-tidsst√§mpel

### Budget Table
- **id**: Primary key
- **name**: Budgetnamn
- **description**: Beskrivning (valfri)
- **budgetType**: Budgettyp (MONTHLY, WEEKLY, YEARLY)
- **totalBudget**: Total budgetgr√§ns
- **spentAmount**: Anv√§nt belopp
- **remainingAmount**: √Öterst√•ende belopp
- **period**: Budgetperiod
- **categoryId**: Foreign key till Category (valfri)
- **isActive**: Boolean f√∂r aktiv status
- **createdAt/updatedAt**: Tidsst√§mplar

## F√∂rdefinierade data

### Butiker
- ICA Maxi
- Coop Extra
- Hemk√∂p
- Willys
- Lidl

### Kategorier
- Mejeri (#2196F3)
- K√∂tt & Fisk (#F44336)
- Frukt & Gr√∂nt (#4CAF50)
- Br√∂d & Bakverk (#FF9800)
- Konserver (#9C27B0)
- Frysta varor (#00BCD4)
- Drycker (#CDDC39)
- Snacks (#FF5722)
- Hygien & H√§lsa (#607D8B)
- Hush√•ll (#795548)
- √ñvrigt (#9E9E9E)

### Inkomstkategorier
- L√∂n
- Bonus
- Freelance
- Investering
- F√∂rs√§ljning
- √ñvrigt

### Utgiftskategorier
- Mat
- Transport
- Hygien
- N√∂je
- R√§kningar
- Kl√§der
- H√§lsa
- Boende
- √ñvrigt

### Betalmetoder
- Kort
- Kontant
- Swish
- Faktura

## F√§rgtema

Appen anv√§nder ett gr√∂nt f√§rgtema som √§r l√§mpligt f√∂r ekonomi-appar:
- **Primary**: #2E7D32 (gr√∂n)
- **Secondary**: #4CAF50 (ljusgr√∂n)
- **Inkomst**: #4CAF50 (gr√∂n)
- **Utgift**: #F44336 (r√∂d)
- **Varning**: #FF9800 (orange)
- **Framg√•ng**: #4CAF50 (gr√∂n)
- **Fel**: #F44336 (r√∂d)

## Anv√§ndarfl√∂de

1. **L√§gg till produkt**: V√§lj butik ‚Üí Ange produktinformation ‚Üí Ange pris ‚Üí Spara
2. **Visa produkter**: √ñversikt ‚Üí "Visa alla produkter" ‚Üí Se alla produkter med prisintervall
3. **Hantera priser**: Produktlista ‚Üí "Visa priser" ‚Üí Se alla priser ‚Üí L√§gg till/redigera/ta bort priser
4. **Redigera produkt**: Produktlista ‚Üí "Redigera" ‚Üí Uppdatera produktinformation
5. **L√§gg till inkomst**: √ñversikt ‚Üí "L√§gg till inkomst" ‚Üí Ange titel, belopp, kategori, datum
6. **L√§gg till utgift**: Transaktioner ‚Üí "L√§gg till utgift" ‚Üí Ange titel, belopp, kategori, butik, betalmetod
7. **Hantera transaktioner**: Transaktionsfliken ‚Üí Se inkomster och utgifter ‚Üí Filtrera och redigera
8. **L√§gg till l√•n**: L√•nfliken ‚Üí "L√§gg till l√•n" ‚Üí V√§lj typ ‚Üí Ange detaljer ‚Üí Spara
9. **Hantera l√•n**: L√•nfliken ‚Üí Filtrera l√•n ‚Üí Markera som √•terbetalt/√•ngra ‚Üí Redigera/ta bort
10. **Anpassa √∂versikt**: Inst√§llningar (meny) ‚Üí "Edit Home" ‚Üí Visa/d√∂lj sektioner
11. **Hantera butiker**: √ñversikt ‚Üí "Hantera butiker" ‚Üí L√§gg till/redigera/ta bort butiker
12. **Hantera kategorier**: Mer-fliken ‚Üí "Kategorier" ‚Üí L√§gg till/redigera kategorier ‚Üí V√§lj ikoner och f√§rger
13. **Smart rekommendationer**: Mer-fliken ‚Üí "Smarta tips" ‚Üí Se prisanalys och besparingsf√∂rslag
14. **Ink√∂pslistor**: Mer-fliken ‚Üí "Ink√∂pslistor" ‚Üí Skapa listor ‚Üí L√§gg till produkter ‚Üí F√• prisrekommendationer
15. **Prishistorik**: Produktlista ‚Üí "Visa prishistorik" ‚Üí Se prisutveckling √∂ver tid

## N√§sta steg

Appen √§r nu komplett med avancerade funktioner. M√∂jliga f√∂rb√§ttringar:

1. **Butikskartor** - Google Maps integration f√∂r att hitta n√§rmaste butiker ‚≠ê
2. **Dataexport**: Exportera prisdata och rekommendationer till CSV/Excel
3. **F√∂rb√§ttrad AI**: Maskininl√§rning f√∂r √§nnu mer exakta prisf√∂ruts√§gelser  
4. **Push-notifikationer**: Realtidsvarningar n√§r priser sjunker
5. **Delning**: Dela ink√∂pslistor och rekommendationer med familjen
6. **OCR-kvittoscanning**: Automatisk textigenk√§nning fr√•n kvitton
7. **Avancerad budgetering**: Automatisk kategorisering och budgetvarningar
8. **S√§songsanalys**: F√∂ruts√§g s√§songspriser och optimala ink√∂pstider
9. **Kundklubsintegration**: Synkronisering med ICA Kortet, Coop medlemskap

‚úÖ **Implementerat**:
- Avancerat kategorisystem med visuella ikoner och f√§rger
- Smarta rekommendationer med AI-analys
- Komplett prishistoriksystem  
- Ink√∂pslistor med prisoptimering
- Kvittohantering
- Avancerad databas (11+ tabeller)
- Modern Material Design 3 UI

## Hur man bygger

```bash
./gradlew assembleDebug
```

APK-filen skapas i `app/build/outputs/apk/debug/budget-debug-1.1-<datum>.apk`

## Installation

1. Aktivera "Ok√§nda k√§llor" i Android-inst√§llningar
2. Installera `budget-debug-1.1-<datum>.apk` p√• din Android-enhet
3. √ñppna appen och b√∂rja l√§gga till produkter!

## Bidrag

Denna app √§r byggd som en demonstration av Android-utveckling med Kotlin och Room database. K√§nner du dig fri att forka och bidra med f√∂rb√§ttringar!